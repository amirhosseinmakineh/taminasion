<app-layout-header></app-layout-header>

<section class="auth-section">
  <div class="container">
    <div class="image-section" aria-hidden="true"></div>
    <div class="form-section">
      <h2>ุซุจุชโูุงู ุฏุฑ ุชุงููุงุณูู</h2>
      <p>ุจู ุฎุงููุงุฏู ุชุงููุงุณูู ุฎูุด ุขูุฏุฏ ๐</p>

      <app-feedback-message
        *ngIf="feedbackMessage"
        [type]="feedbackType"
        [message]="feedbackMessage"
        (closed)="clearFeedback()"
      ></app-feedback-message>

      <form [formGroup]="registerForm" (ngSubmit)="submit()" novalidate>
        <div class="form-field" [class.invalid]="name?.invalid && name?.touched">
          <label for="name">ูุงู ู ูุงู ุฎุงููุงุฏฺฏ</label>
          <input id="name" type="text" formControlName="name" placeholder="ูุซูุงู ุนู ุฑุถุง" required />
          <span class="error" *ngIf="name?.hasError('required') && name?.touched">ูุงุฑุฏ ฺฉุฑุฏู ูุงู ุงูุฒุงู ุงุณุช.</span>
          <span class="error" *ngIf="name?.hasError('minlength') && name?.touched">ูุงู ุจุงุฏ ุญุฏุงูู ณ ฺฉุงุฑุงฺฉุชุฑ ุจุงุดุฏ.</span>
        </div>

        <div class="form-field" [class.invalid]="phone?.invalid && phone?.touched">
          <label for="phone">ุดูุงุฑู ุชููู</label>
          <input id="phone" type="tel" formControlName="phone" placeholder="09123456789" required />
          <span class="error" *ngIf="phone?.hasError('required') && phone?.touched">ุดูุงุฑู ุชููู ุงูุฒุงู ุงุณุช.</span>
          <span class="error" *ngIf="phone?.hasError('pattern') && phone?.touched">ุดูุงุฑู ุชููู ูุนุชุจุฑ ูุณุช.</span>
        </div>

        <div class="form-field" [class.invalid]="email?.invalid && email?.touched">
          <label for="email">ุงูู</label>
          <input id="email" type="email" formControlName="email" placeholder="example@email.com" required />
          <span class="error" *ngIf="email?.hasError('required') && email?.touched">ุงูู ุงูุฒุงู ุงุณุช.</span>
          <span class="error" *ngIf="email?.hasError('email') && email?.touched">ุงูู ูุงุฑุฏ ุดุฏู ูุนุชุจุฑ ูุณุช.</span>
        </div>

        <div class="form-field" [class.invalid]="password?.invalid && password?.touched">
          <label for="password">ุฑูุฒ ุนุจูุฑ</label>
          <input id="password" type="password" formControlName="password" placeholder="********" required />
          <span class="error" *ngIf="password?.hasError('required') && password?.touched">ุฑูุฒ ุนุจูุฑ ุงูุฒุงู ุงุณุช.</span>
          <span class="error" *ngIf="password?.hasError('minlength') && password?.touched">ุฑูุฒ ุนุจูุฑ ุจุงุฏ ุญุฏุงูู ถ ฺฉุงุฑุงฺฉุชุฑ ุจุงุดุฏ.</span>
        </div>

        <button type="submit" [disabled]="registerForm.invalid || isSubmitting">
          <span *ngIf="!isSubmitting">ุซุจุชโูุงู</span>
          <span *ngIf="isSubmitting" class="loading">ุฏุฑ ุญุงู ุงุฑุณุงู...</span>
        </button>
      </form>

      <div class="footer-text">
        ุญุณุงุจ ฺฉุงุฑุจุฑ ุฏุงุฑุฏุ
        <a routerLink="../login">ูุงุฑุฏ ุดูุฏ</a>
      </div>
    </div>
  </div>
</section>
